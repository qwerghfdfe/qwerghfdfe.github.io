<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ConnectHub - 社交平台</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Noto Sans SC', sans-serif;
        }

        :root {
            --primary: #1a1f36;
            --secondary: #2a3048;
            --accent: #4e6fff;
            --accent-light: #6d8cff;
            --text: #f0f3ff;
            --text-secondary: #b0b8d9;
            --success: #00c853;
            --warning: #ffab00;
            --danger: #ff5252;
            --card-bg: rgba(35, 40, 65, 0.7);
            --card-border: rgba(90, 100, 160, 0.2);
            --online: #00e676;
            --offline: #ff6e40;
            --user1-color: #ff7eb3;
            --user2-color: #7afcff;
            --theme-blue: #4e6fff;
            --theme-purple: #8a2be2;
            --theme-green: #00c853;
        }

        body {
            background: radial-gradient(circle at top left, #0f1220, #1a1f36);
            color: var(--text);
            min-height: 100vh;
            background-attachment: fixed;
            overflow-x: hidden;
        }

        /* 登录页面样式 */
        .login-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 20px;
            background: radial-gradient(ellipse at center, #1a1f36, #0f1220);
        }

        .login-card {
            background: var(--card-bg);
            backdrop-filter: blur(12px);
            border: 1px solid var(--card-border);
            border-radius: 20px;
            padding: 40px;
            width: 100%;
            max-width: 450px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
            text-align: center;
            position: relative;
            overflow: hidden;
            z-index: 2;
        }

        .login-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: conic-gradient(transparent, var(--accent-light), transparent 30%);
            animation: rotate 6s linear infinite;
            z-index: -1;
        }

        .login-card::after {
            content: '';
            position: absolute;
            inset: 3px;
            background: var(--card-bg);
            border-radius: 17px;
            z-index: -1;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .login-logo {
            font-size: 3.5rem;
            margin-bottom: 20px;
            color: var(--accent-light);
            text-shadow: 0 0 20px rgba(109, 140, 255, 0.7);
        }

        .login-title {
            font-size: 2.2rem;
            margin-bottom: 30px;
            background: linear-gradient(90deg, var(--accent), var(--accent-light));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: 700;
            letter-spacing: 1px;
        }

        .input-group {
            margin-bottom: 25px;
            text-align: left;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--text-secondary);
        }

        .input-group input {
            width: 100%;
            padding: 16px 20px;
            background: rgba(25, 30, 50, 0.8);
            border: 1px solid rgba(100, 110, 180, 0.3);
            border-radius: 12px;
            color: var(--text);
            font-size: 1.05rem;
            transition: all 0.3s ease;
        }

        .input-group input:focus {
            outline: none;
            border-color: var(--accent-light);
            box-shadow: 0 0 0 4px rgba(109, 140, 255, 0.25);
        }

        .login-btn {
            width: 100%;
            padding: 16px;
            background: linear-gradient(90deg, var(--accent), var(--accent-light));
            border: none;
            border-radius: 12px;
            color: white;
            font-size: 1.15rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 10px;
            letter-spacing: 0.5px;
        }

        .login-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 20px rgba(109, 140, 255, 0.45);
        }

        .forgot-password {
            margin-top: 20px;
            color: var(--text-secondary);
            font-size: 0.95rem;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .forgot-password:hover {
            color: var(--accent-light);
        }

        /* 主应用样式 */
        .app-container {
            display: none;
            min-height: 100vh;
            overflow: hidden;
        }

        .app-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 18px 35px;
            background: rgba(20, 25, 45, 0.9);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--card-border);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .logo {
            display: flex;
            align-items: center;
            font-size: 1.9rem;
            font-weight: 700;
            color: var(--accent-light);
            letter-spacing: 0.5px;
        }

        .logo i {
            margin-right: 12px;
            color: var(--accent-light);
            text-shadow: 0 0 15px rgba(109, 140, 255, 0.7);
        }

        .app-main {
            display: flex;
            min-height: calc(100vh - 75px);
        }

        .sidebar {
            width: 90px;
            background: rgba(25, 30, 55, 0.85);
            backdrop-filter: blur(10px);
            border-right: 1px solid var(--card-border);
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 25px 0;
        }

        .nav-item {
            width: 60px;
            height: 60px;
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: var(--text-secondary);
            font-size: 1.4rem;
            position: relative;
        }

        .nav-item span {
            font-size: 0.8rem;
            margin-top: 5px;
            opacity: 0.8;
        }

        .nav-item:hover, .nav-item.active {
            background: var(--accent);
            color: white;
            transform: translateY(-5px);
        }

        .nav-item.active::after {
            content: '';
            position: absolute;
            left: -6px;
            top: 50%;
            transform: translateY(-50%);
            width: 5px;
            height: 65%;
            background: var(--accent-light);
            border-radius: 0 6px 6px 0;
        }

        .main-content {
            flex: 1;
            padding: 30px;
            display: flex;
            flex-direction: column;
            max-width: 1200px;
            margin: 0 auto;
            width: 100%;
        }

        .content-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .content-title {
            font-size: 2rem;
            font-weight: 700;
            background: linear-gradient(90deg, var(--accent-light), #a78bfa);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            letter-spacing: 0.5px;
        }

        .content-section {
            background: var(--card-bg);
            backdrop-filter: blur(10px);
            border: 1px solid var(--card-border);
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .section-title {
            font-size: 1.4rem;
            margin-bottom: 20px;
            color: var(--text);
            display: flex;
            align-items: center;
        }

        .section-title i {
            margin-right: 10px;
            color: var(--accent-light);
        }

        /* 聊天界面样式 */
        .chat-container {
            display: flex;
            flex-direction: column;
            height: calc(100vh - 180px);
            background: var(--card-bg);
            backdrop-filter: blur(10px);
            border: 1px solid var(--card-border);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .chat-header {
            padding: 20px;
            border-bottom: 1px solid var(--card-border);
            display: flex;
            align-items: center;
            background: rgba(30, 35, 60, 0.7);
        }

        .chat-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--user1-color), #ff65a3);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.4rem;
            margin-right: 15px;
        }

        .chat-info {
            flex: 1;
        }

        .chat-name {
            font-weight: 600;
            font-size: 1.3rem;
            margin-bottom: 3px;
        }

        .chat-status {
            font-size: 0.9rem;
            color: var(--text-secondary);
            display: flex;
            align-items: center;
        }

        .status-indicator {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            margin-right: 8px;
        }

        .online {
            background: var(--online);
            box-shadow: 0 0 10px var(--online);
        }

        .chat-actions {
            display: flex;
        }

        .chat-action-btn {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-left: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: rgba(40, 45, 75, 0.8);
            color: var(--text);
            font-size: 1.2rem;
        }

        .chat-action-btn:hover {
            background: var(--accent);
            transform: scale(1.1);
        }

        .chat-messages {
            flex: 1;
            padding: 25px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            background: rgba(25, 30, 50, 0.5);
        }

        .message {
            max-width: 70%;
            padding: 15px 20px;
            border-radius: 18px;
            margin-bottom: 20px;
            position: relative;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .received {
            align-self: flex-start;
            background: rgba(60, 65, 100, 0.5);
            border-bottom-left-radius: 5px;
        }

        .sent {
            align-self: flex-end;
            background: linear-gradient(135deg, var(--accent), var(--accent-light));
            border-bottom-right-radius: 5px;
        }

        .message-time {
            font-size: 0.75rem;
            color: var(--text-secondary);
            margin-top: 5px;
            text-align: right;
        }

        .message-actions {
            position: absolute;
            top: 5px;
            right: 10px;
            display: none;
        }

        .message:hover .message-actions {
            display: block;
        }

        .action-icon {
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(0, 0, 0, 0.3);
            color: white;
            cursor: pointer;
            font-size: 0.8rem;
            margin-left: 5px;
            transition: all 0.3s ease;
        }

        .action-icon:hover {
            background: var(--danger);
            transform: scale(1.1);
        }

        .withdrawn-message {
            opacity: 0.7;
            background: rgba(60, 60, 80, 0.3);
        }

        .withdrawn-message .message-text {
            font-style: italic;
            color: var(--text-secondary);
        }

        .chat-input-area {
            padding: 20px;
            background: rgba(30, 35, 60, 0.7);
            border-top: 1px solid var(--card-border);
            display: flex;
            align-items: center;
        }

        .chat-input {
            flex: 1;
            padding: 15px 20px;
            background: rgba(35, 40, 65, 0.8);
            border: 1px solid var(--card-border);
            border-radius: 50px;
            color: var(--text);
            font-size: 1rem;
            margin-right: 15px;
        }

        .chat-input:focus {
            outline: none;
            border-color: var(--accent-light);
        }

        .send-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--accent), var(--accent-light));
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .send-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 0 15px rgba(109, 140, 255, 0.5);
        }

        /* 动态发布界面 */
        .post-container {
            display: flex;
            margin-bottom: 25px;
        }

        .post-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--accent), var(--accent-light));
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            margin-right: 15px;
            font-size: 1.3rem;
        }

        .post-input {
            flex: 1;
            background: rgba(25, 30, 50, 0.8);
            border: 1px solid var(--card-border);
            border-radius: 12px;
            padding: 15px;
            color: var(--text);
            font-size: 1rem;
            min-height: 120px;
            resize: none;
        }

        .post-input:focus {
            outline: none;
            border-color: var(--accent-light);
        }

        .post-actions {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
        }

        .action-btn {
            display: flex;
            align-items: center;
            padding: 10px 15px;
            background: rgba(40, 45, 75, 0.8);
            border-radius: 10px;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .action-btn:hover {
            background: var(--accent);
            color: white;
        }

        .action-btn i {
            margin-right: 5px;
        }

        .file-input {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            cursor: pointer;
        }

        .post-btn {
            padding: 12px 30px;
            background: linear-gradient(90deg, var(--accent), var(--accent-light));
            border: none;
            border-radius: 10px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .post-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(109, 140, 255, 0.4);
        }

        .preview-container {
            margin-top: 15px;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .media-preview {
            width: 100px;
            height: 100px;
            border-radius: 8px;
            overflow: hidden;
            position: relative;
        }

        .media-preview img, .media-preview video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .remove-media {
            position: absolute;
            top: 5px;
            right: 5px;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--danger);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            cursor: pointer;
        }

        .posts-container {
            margin-top: 30px;
        }

        .post-card {
            background: rgba(30, 35, 60, 0.6);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid var(--card-border);
            position: relative;
        }

        .post-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }

        .post-user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--user2-color), #00d9ff);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 1.1rem;
            margin-right: 12px;
        }

        .post-user-info {
            flex: 1;
        }

        .post-user-name {
            font-weight: 600;
            margin-bottom: 2px;
        }

        .post-time {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        .post-content {
            margin-bottom: 15px;
            line-height: 1.6;
        }

        .post-media {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 10px;
            margin-bottom: 15px;
        }

        .post-media-item {
            border-radius: 8px;
            overflow: hidden;
            height: 150px;
            position: relative;
        }

        .post-media-item img, .post-media-item video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .post-media-item video {
            background: black;
        }

        .post-actions-bar {
            display: flex;
            border-top: 1px solid var(--card-border);
            padding-top: 15px;
        }

        .post-action {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-secondary);
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .post-action:hover {
            color: var(--accent-light);
        }

        .post-action i {
            margin-right: 5px;
        }

        .post-action.liked {
            color: var(--success);
        }

        .post-comments {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid var(--card-border);
        }

        .comment {
            display: flex;
            margin-bottom: 10px;
        }

        .comment-avatar {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--accent), var(--accent-light));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
            margin-right: 10px;
        }

        .comment-content {
            flex: 1;
            background: rgba(40, 45, 75, 0.5);
            border-radius: 10px;
            padding: 10px;
        }

        .comment-user {
            font-weight: 600;
            margin-bottom: 3px;
        }

        .comment-text {
            font-size: 0.9rem;
            line-height: 1.4;
        }

        .comment-input {
            width: 100%;
            padding: 10px;
            background: rgba(40, 45, 75, 0.5);
            border: 1px solid var(--card-border);
            border-radius: 20px;
            color: var(--text);
            margin-top: 10px;
        }

        .post-actions-top {
            position: absolute;
            top: 20px;
            right: 20px;
            display: flex;
        }

        .post-action-btn {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(0, 0, 0, 0.3);
            color: white;
            cursor: pointer;
            margin-left: 5px;
            transition: all 0.3s ease;
        }

        .post-action-btn:hover {
            background: var(--danger);
            transform: scale(1.1);
        }

        /* 内容搜索界面 */
        .search-container {
            display: flex;
            margin-bottom: 25px;
        }

        .search-box {
            flex: 1;
            position: relative;
        }

        .search-input {
            width: 100%;
            padding: 15px 20px 15px 50px;
            background: rgba(25, 30, 50, 0.8);
            border: 1px solid var(--card-border);
            border-radius: 50px;
            color: var(--text);
            font-size: 1rem;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--accent-light);
        }

        .search-icon {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-secondary);
        }

        .search-filters {
            display: flex;
            margin-bottom: 25px;
        }

        .filter-btn {
            padding: 8px 15px;
            background: rgba(40, 45, 75, 0.8);
            border-radius: 20px;
            margin-right: 10px;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .filter-btn.active {
            background: var(--accent);
            color: white;
        }

        .search-results {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .result-card {
            background: rgba(30, 35, 60, 0.6);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid var(--card-border);
            transition: all 0.3s ease;
        }

        .result-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        .result-title {
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--accent-light);
        }

        .result-content {
            font-size: 0.95rem;
            color: var(--text-secondary);
            margin-bottom: 15px;
            line-height: 1.5;
        }

        .result-meta {
            display: flex;
            justify-content: space-between;
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        /* 主题管理界面 */
        .theme-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 25px;
        }

        .theme-card {
            background: rgba(30, 35, 60, 0.6);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid var(--card-border);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .theme-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        .theme-preview {
            height: 120px;
            border-radius: 10px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: 600;
        }

        .theme-blue {
            background: linear-gradient(135deg, #1a1f36, #4e6fff);
        }

        .theme-purple {
            background: linear-gradient(135deg, #1a1a36, #8a2be2);
        }

        .theme-green {
            background: linear-gradient(135deg, #1a361f, #00c853);
        }

        .theme-name {
            font-weight: 600;
            margin-bottom: 8px;
        }

        .theme-desc {
            font-size: 0.9rem;
            color: var(--text-secondary);
            line-height: 1.4;
        }

        /* 账户管理界面 */
        .account-form {
            max-width: 600px;
            margin: 0 auto;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--text);
        }

        .form-input {
            width: 100%;
            padding: 15px 20px;
            background: rgba(25, 30, 50, 0.8);
            border: 1px solid var(--card-border);
            border-radius: 12px;
            color: var(--text);
            font-size: 1.05rem;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--accent-light);
        }

        .form-row {
            display: flex;
            gap: 20px;
        }

        .form-row .form-group {
            flex: 1;
        }

        .save-btn {
            padding: 15px 35px;
            background: linear-gradient(90deg, var(--accent), var(--accent-light));
            border: none;
            border-radius: 12px;
            color: white;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .save-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 20px rgba(109, 140, 255, 0.45);
        }

        .danger-zone {
            margin-top: 40px;
            padding-top: 30px;
            border-top: 1px solid rgba(255, 82, 82, 0.3);
        }

        .danger-title {
            color: var(--danger);
            margin-bottom: 15px;
        }

        .danger-btn {
            padding: 12px 25px;
            background: rgba(255, 82, 82, 0.2);
            border: 1px solid var(--danger);
            border-radius: 8px;
            color: var(--danger);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .danger-btn:hover {
            background: var(--danger);
            color: white;
        }

        /* 响应式设计 */
        @media (max-width: 900px) {
            .sidebar {
                width: 70px;
            }
            
            .nav-item {
                width: 50px;
                height: 50px;
                font-size: 1.2rem;
            }
            
            .nav-item span {
                font-size: 0.7rem;
            }
            
            .main-content {
                padding: 20px;
            }
        }

        @media (max-width: 600px) {
            .login-card {
                padding: 30px 20px;
            }
            
            .app-header {
                padding: 15px;
            }
            
            .sidebar {
                width: 60px;
                padding: 15px 0;
            }
            
            .main-content {
                padding: 15px;
            }
            
            .content-title {
                font-size: 1.7rem;
            }
            
            .form-row {
                flex-direction: column;
                gap: 0;
            }
        }
    </style>
</head>
<body>
    <!-- 登录页面 -->
    <div id="loginPage" class="login-container">
        <div class="login-card">
            <div class="login-logo">
                <i class="fas fa-comments"></i>
            </div>
            <h1 class="login-title">ConnectHub</h1>
            
            <div class="input-group">
                <label for="username"><i class="fas fa-user"></i> 用户名</label>
                <input type="text" id="username" placeholder="输入用户名">
            </div>
            
            <div class="input-group">
                <label for="password"><i class="fas fa-lock"></i> 密码</label>
                <input type="password" id="password" placeholder="输入密码">
            </div>
            
            <button class="login-btn" id="loginBtn">
                <i class="fas fa-sign-in-alt"></i> 登录
            </button>
            
            <div class="forgot-password" id="forgotPassword">
                <i class="fas fa-key"></i> 忘记密码?
            </div>
        </div>
    </div>

    <!-- 主应用 -->
    <div id="app" class="app-container">
        <header class="app-header">
            <div class="logo">
                <i class="fas fa-globe-asia"></i>
                <span>ConnectHub</span>
            </div>
            
            <div class="user-controls">
                <div class="user-info" id="userInfo">
                    <div class="user-avatar" id="userAvatar">华</div>
                    <div class="user-name" id="userName">华</div>
                </div>
                <button class="login-btn" id="logoutBtn" style="width: auto; padding: 10px 20px;">
                    <i class="fas fa-sign-out-alt"></i> 退出
                </button>
            </div>
        </header>
        
        <div class="app-main">
            <aside class="sidebar">
                <div class="nav-item active" data-section="chat">
                    <i class="fas fa-comment-dots"></i>
                    <span>聊天</span>
                </div>
                <div class="nav-item" data-section="post">
                    <i class="fas fa-pen"></i>
                    <span>动态</span>
                </div>
                <div class="nav-item" data-section="search">
                    <i class="fas fa-search"></i>
                    <span>搜索</span>
                </div>
                <div class="nav-item" data-section="theme">
                    <i class="fas fa-palette"></i>
                    <span>主题</span>
                </div>
                <div class="nav-item" data-section="account">
                    <i class="fas fa-user-cog"></i>
                    <span>账户</span>
                </div>
            </aside>
            
            <main class="main-content">
                <div class="content-header">
                    <h2 class="content-title">与他聊天</h2>
                    <div class="search-box">
                        <input type="text" placeholder="搜索聊天记录..." style="padding: 12px 20px; border-radius: 30px; background: rgba(30,35,60,0.8); border: 1px solid var(--card-border); color: white; width: 250px;">
                    </div>
                </div>
                
                <!-- 聊天板块 -->
                <div class="content-section" id="chat-section">
                    <div class="chat-container">
                        <div class="chat-header">
                            <div class="chat-avatar" id="chatPartnerAvatar">辉</div>
                            <div class="chat-info">
                                <div class="chat-name" id="chatPartnerName">辉</div>
                                <div class="chat-status" id="chatPartnerStatus">
                                    <span class="status-indicator online"></span> 在线
                                </div>
                            </div>
                            <div class="chat-actions">
                                <div class="chat-action-btn">
                                    <i class="fas fa-phone-alt"></i>
                                </div>
                                <div class="chat-action-btn">
                                    <i class="fas fa-video"></i>
                                </div>
                                <div class="chat-action-btn">
                                    <i class="fas fa-ellipsis-h"></i>
                                </div>
                            </div>
                        </div>
                        
                        <div class="chat-messages" id="chatMessages">
                            <!-- 聊天消息将通过JavaScript动态生成 -->
                        </div>
                        
                        <div class="chat-input-area">
                            <div class="chat-action-btn">
                                <i class="fas fa-paperclip"></i>
                            </div>
                            <input type="text" class="chat-input" id="messageInput" placeholder="输入消息...">
                            <div class="chat-action-btn">
                                <i class="fas fa-smile"></i>
                            </div>
                            <div class="send-btn" id="sendMessageBtn">
                                <i class="fas fa-paper-plane"></i>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 动态发布板块 -->
                <div class="content-section" id="post-section" style="display: none;">
                    <div class="post-container">
                        <div class="post-avatar" id="currentUserAvatar">华</div>
                        <textarea class="post-input" id="postContent" placeholder="分享你的想法..."></textarea>
                    </div>
                    
                    <div class="preview-container" id="mediaPreview">
                        <!-- 媒体预览区域 -->
                    </div>
                    
                    <div class="post-actions">
                        <div class="action-buttons">
                            <div class="action-btn">
                                <i class="fas fa-image"></i> 图片
                                <input type="file" class="file-input" id="imageUpload" accept="image/*" multiple>
                            </div>
                            <div class="action-btn">
                                <i class="fas fa-video"></i> 视频
                                <input type="file" class="file-input" id="videoUpload" accept="video/*" multiple>
                            </div>
                            <div class="action-btn">
                                <i class="fas fa-map-marker-alt"></i> 位置
                            </div>
                            <div class="action-btn" id="wallpaper-btn" style="display: none;">
                                <i class="fas fa-paint-roller"></i> 壁纸
                            </div>
                        </div>
                        <button class="post-btn" id="publishPostBtn">发布动态</button>
                    </div>
                    
                    <div class="posts-container" id="postsContainer">
                        <!-- 动态将通过JavaScript动态生成 -->
                    </div>
                </div>
                
                <!-- 内容搜索板块 -->
                <div class="content-section" id="search-section" style="display: none;">
                    <div class="search-container">
                        <div class="search-box">
                            <i class="fas fa-search search-icon"></i>
                            <input type="text" class="search-input" id="globalSearch" placeholder="搜索动态、消息、用户...">
                        </div>
                    </div>
                    
                    <div class="search-filters">
                        <div class="filter-btn active">全部</div>
                        <div class="filter-btn">动态</div>
                        <div class="filter-btn">消息</div>
                        <div class="filter-btn">用户</div>
                        <div class="filter-btn">文件</div>
                    </div>
                    
                    <div class="search-results" id="searchResults">
                        <!-- 搜索结果将通过JavaScript动态生成 -->
                    </div>
                </div>
                
                <!-- 主题管理板块 -->
                <div class="content-section" id="theme-section" style="display: none;">
                    <div class="theme-grid">
                        <div class="theme-card" data-theme="blue">
                            <div class="theme-preview theme-blue">
                                <i class="fas fa-palette"></i>
                            </div>
                            <div class="theme-name">深蓝科技</div>
                            <div class="theme-desc">深邃的蓝色主题，搭配霓虹蓝紫色调，营造现代科技感</div>
                        </div>
                        
                        <div class="theme-card" data-theme="purple">
                            <div class="theme-preview theme-purple">
                                <i class="fas fa-moon"></i>
                            </div>
                            <div class="theme-name">午夜紫</div>
                            <div class="theme-desc">神秘的紫色主题，适合夜间使用，减少视觉疲劳</div>
                        </div>
                        
                        <div class="theme-card" data-theme="green">
                            <div class="theme-preview theme-green">
                                <i class="fas fa-leaf"></i>
                            </div>
                            <div class="theme-name">森林绿</div>
                            <div class="theme-desc">自然的绿色主题，带来清新和平静的使用体验</div>
                        </div>
                    </div>
                    
                    <div class="content-section" style="margin-top: 30px;">
                        <h3 class="section-title"><i class="fas fa-image"></i> 壁纸管理</h3>
                        <div class="theme-grid">
                            <div class="theme-card">
                                <div class="theme-preview" style="background: linear-gradient(135deg, #0f1220, #1a1f36);">
                                    <i class="fas fa-mountain"></i>
                                </div>
                                <div class="theme-name">深邃星空</div>
                            </div>
                            
                            <div class="theme-card">
                                <div class="theme-preview" style="background: linear-gradient(135deg, #2c003e, #6a3093);">
                                    <i class="fas fa-city"></i>
                                </div>
                                <div class="theme-name">霓虹都市</div>
                            </div>
                            
                            <div class="theme-card">
                                <div class="theme-preview" style="background: linear-gradient(135deg, #00416a, #799f0c);">
                                    <i class="fas fa-tree"></i>
                                </div>
                                <div class="theme-name">森林晨曦</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 账户管理板块 -->
                <div class="content-section" id="account-section" style="display: none;">
                    <div class="account-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">名字</label>
                                <input type="text" class="form-input" value="华">
                            </div>
                            <div class="form-group">
                                <label class="form-label">姓氏</label>
                                <input type="text" class="form-input" value="">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">电子邮箱</label>
                            <input type="email" class="form-input" value="hua@example.com">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">手机号码</label>
                            <input type="tel" class="form-input" value="13800138000">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">个人简介</label>
                            <textarea class="form-input" style="height: 120px;">UI设计师 | 旅行爱好者 | 摄影新手</textarea>
                        </div>
                        
                        <button class="save-btn">保存更改</button>
                        
                        <div class="danger-zone">
                            <h3 class="section-title danger-title"><i class="fas fa-exclamation-triangle"></i> 安全区域</h3>
                            <div class="form-group">
                                <label class="form-label">当前密码</label>
                                <input type="password" class="form-input" placeholder="输入当前密码">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">新密码</label>
                                <input type="password" class="form-input" placeholder="输入新密码">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">确认新密码</label>
                                <input type="password" class="form-input" placeholder="再次输入新密码">
                            </div>
                            
                            <button class="save-btn">更新密码</button>
                            
                            <div style="margin-top: 30px;">
                                <button class="danger-btn">
                                    <i class="fas fa-trash-alt"></i> 删除账户
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script>
        // 用户数据
        const users = {
            "华": { 
                password: "mi1999ok", 
                color: "#ff7eb3", 
                canEditTheme: false,
                avatar: "华"
            },
            "辉": { 
                password: "okokook", 
                color: "#7afcff", 
                canEditTheme: true,
                avatar: "辉"
            }
        };

        // 聊天消息存储
        let chatMessages = [
            { id: 1, sender: "辉", receiver: "华", content: "嗨，华！最近怎么样？", timestamp: "昨天 10:30", withdrawn: false },
            { id: 2, sender: "华", receiver: "辉", content: "我很好！刚刚完成了新项目，你呢？", timestamp: "昨天 10:32", withdrawn: false },
            { id: 3, sender: "辉", receiver: "华", content: "太棒了！我这边也进展顺利。对了，你看昨晚的比赛了吗？", timestamp: "昨天 10:33", withdrawn: false },
            { id: 4, sender: "华", receiver: "辉", content: "看了！最后时刻的绝杀太精彩了！", timestamp: "昨天 10:35", withdrawn: false },
            { id: 5, sender: "辉", receiver: "华", content: "完全同意！对了，周末有空一起吃饭吗？", timestamp: "今天 09:15", withdrawn: false },
            { id: 6, sender: "华", receiver: "辉", content: "好啊，周六晚上怎么样？我知道一家新开的餐厅不错", timestamp: "今天 09:18", withdrawn: false },
            { id: 7, sender: "辉", receiver: "华", content: "完美！把地址发给我吧，期待见面！", timestamp: "今天 09:20", withdrawn: false }
        ];

        // 动态数据
        let posts = [
            {
                id: 1,
                user: "辉",
                content: "刚刚完成了新项目的UI设计，使用深色主题和霓虹效果打造现代科技感！",
                time: "2小时前",
                media: [
                    { type: "image", url: "https://picsum.photos/300/200?random=1" },
                    { type: "image", url: "https://picsum.photos/300/200?random=2" }
                ],
                likes: 12,
                comments: 3,
                liked: false,
                commentsList: [
                    { user: "华", content: "设计得太棒了！" },
                    { user: "辉", content: "谢谢！" }
                ],
                withdrawn: false
            },
            {
                id: 2,
                user: "华",
                content: "周末徒步旅行发现的美丽风景，大自然总能给人带来宁静和灵感。",
                time: "昨天",
                media: [
                    { type: "image", url: "https://picsum.photos/300/200?random=3" },
                    { type: "video", url: "https://player.vimeo.com/video/76979871?h=8272103f6e" }
                ],
                likes: 24,
                comments: 5,
                liked: true,
                commentsList: [
                    { user: "辉", content: "这地方太美了，下次带我去吧！" }
                ],
                withdrawn: false
            }
        ];

        // 当前用户上传的媒体文件
        let uploadedMedia = [];

        // DOM元素
        const loginPage = document.getElementById('loginPage');
        const app = document.getElementById('app');
        const loginBtn = document.getElementById('loginBtn');
        const logoutBtn = document.getElementById('logoutBtn');
        const usernameInput = document.getElementById('username');
        const passwordInput = document.getElementById('password');
        const forgotPassword = document.getElementById('forgotPassword');
        const userAvatar = document.getElementById('userAvatar');
        const userName = document.getElementById('userName');
        const navItems = document.querySelectorAll('.nav-item');
        const sections = {
            chat: document.getElementById('chat-section'),
            post: document.getElementById('post-section'),
            search: document.getElementById('search-section'),
            theme: document.getElementById('theme-section'),
            account: document.getElementById('account-section')
        };
        const chatMessagesContainer = document.getElementById('chatMessages');
        const messageInput = document.getElementById('messageInput');
        const sendMessageBtn = document.getElementById('sendMessageBtn');
        const chatPartnerAvatar = document.getElementById('chatPartnerAvatar');
        const chatPartnerName = document.getElementById('chatPartnerName');
        const chatPartnerStatus = document.getElementById('chatPartnerStatus');
        const postsContainer = document.getElementById('postsContainer');
        const postContent = document.getElementById('postContent');
        const publishPostBtn = document.getElementById('publishPostBtn');
        const searchResults = document.getElementById('searchResults');
        const globalSearch = document.getElementById('globalSearch');
        const mediaPreview = document.getElementById('mediaPreview');
        const imageUpload = document.getElementById('imageUpload');
        const videoUpload = document.getElementById('videoUpload');
        
        // 当前登录用户
        let currentUser = null;
        let chatPartner = null;

        // 初始化函数
        function initApp() {
            // 加载聊天消息
            renderChatMessages();
            
            // 加载动态
            renderPosts();
            
            // 加载搜索结果
            renderSearchResults();
            
            // 设置在线状态
            setOnlineStatus();
            
            // 设置媒体上传事件
            setupMediaUpload();
        }

        // 设置媒体上传
        function setupMediaUpload() {
            imageUpload.addEventListener('change', function(e) {
                handleFileUpload(e.target.files, 'image');
            });
            
            videoUpload.addEventListener('change', function(e) {
                handleFileUpload(e.target.files, 'video');
            });
        }

        // 处理文件上传
        function handleFileUpload(files, type) {
            for (let i = 0; i < files.length; i++) {
                const file = files[i];
                const reader = new FileReader();
                
                reader.onload = function(e) {
                    const media = {
                        type: type,
                        url: e.target.result,
                        file: file
                    };
                    
                    uploadedMedia.push(media);
                    renderMediaPreview();
                };
                
                if (type === 'image') {
                    reader.readAsDataURL(file);
                } else {
                    // 对于视频，我们只显示一个预览图
                    const videoPreview = document.createElement('video');
                    videoPreview.src = URL.createObjectURL(file);
                    videoPreview.onloadedmetadata = function() {
                        const canvas = document.createElement('canvas');
                        canvas.width = videoPreview.videoWidth;
                        canvas.height = videoPreview.videoHeight;
                        const ctx = canvas.getContext('2d');
                        ctx.drawImage(videoPreview, 0, 0, canvas.width, canvas.height);
                        
                        const media = {
                            type: type,
                            url: canvas.toDataURL('image/jpeg'),
                            file: file
                        };
                        
                        uploadedMedia.push(media);
                        renderMediaPreview();
                    };
                }
            }
        }

        // 渲染媒体预览
        function renderMediaPreview() {
            mediaPreview.innerHTML = '';
            
            uploadedMedia.forEach((media, index) => {
                const preview = document.createElement('div');
                preview.classList.add('media-preview');
                
                if (media.type === 'image') {
                    preview.innerHTML = `
                        <img src="${media.url}" alt="预览">
                        <div class="remove-media" data-index="${index}">×</div>
                    `;
                } else {
                    preview.innerHTML = `
                        <div style="background: #2a3048; width:100%; height:100%; display:flex; align-items:center; justify-content:center;">
                            <i class="fas fa-play-circle" style="font-size: 2rem;"></i>
                        </div>
                        <div class="remove-media" data-index="${index}">×</div>
                    `;
                }
                
                mediaPreview.appendChild(preview);
            });
            
            // 添加删除事件
            document.querySelectorAll('.remove-media').forEach(btn => {
                btn.addEventListener('click', function() {
                    const index = parseInt(this.dataset.index);
                    uploadedMedia.splice(index, 1);
                    renderMediaPreview();
                });
            });
        }

        // 渲染聊天消息
        function renderChatMessages() {
            chatMessagesContainer.innerHTML = '';
            
            chatMessages.forEach(msg => {
                // 只显示当前用户相关的消息
                if ((msg.sender === currentUser && msg.receiver === chatPartner) || 
                    (msg.sender === chatPartner && msg.receiver === currentUser)) {
                    
                    const messageElement = document.createElement('div');
                    messageElement.classList.add('message');
                    
                    if (msg.sender === currentUser) {
                        messageElement.classList.add('sent');
                    } else {
                        messageElement.classList.add('received');
                    }
                    
                    if (msg.withdrawn) {
                        messageElement.classList.add('withdrawn-message');
                    }
                    
                    messageElement.innerHTML = `
                        <div class="message-text">${msg.withdrawn ? '[该消息已被撤回]' : msg.content}</div>
                        <div class="message-time">${msg.timestamp}</div>
                        ${msg.sender === currentUser && !msg.withdrawn ? `
                        <div class="message-actions">
                            <div class="action-icon withdraw-btn" data-id="${msg.id}">
                                <i class="fas fa-trash-alt"></i>
                            </div>
                        </div>
                        ` : ''}
                    `;
                    
                    chatMessagesContainer.appendChild(messageElement);
                }
            });
            
            // 滚动到底部
            chatMessagesContainer.scrollTop = chatMessagesContainer.scrollHeight;
            
            // 添加撤回事件
            document.querySelectorAll('.withdraw-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const msgId = parseInt(this.dataset.id);
                    withdrawMessage(msgId);
                });
            });
        }

        // 撤回消息
        function withdrawMessage(msgId) {
            const message = chatMessages.find(msg => msg.id === msgId);
            if (message) {
                message.withdrawn = true;
                renderChatMessages();
            }
        }

        // 渲染动态
        function renderPosts() {
            postsContainer.innerHTML = '';
            
            posts.forEach(post => {
                if (post.withdrawn) return;
                
                const postElement = document.createElement('div');
                postElement.classList.add('post-card');
                
                let mediaHTML = '';
                if (post.media && post.media.length > 0) {
                    mediaHTML = `<div class="post-media">`;
                    post.media.forEach(media => {
                        if (media.type === 'image') {
                            mediaHTML += `
                                <div class="post-media-item">
                                    <img src="${media.url}" alt="动态图片">
                                </div>
                            `;
                        } else {
                            mediaHTML += `
                                <div class="post-media-item">
                                    <video controls>
                                        <source src="${media.url}" type="video/mp4">
                                        您的浏览器不支持视频标签。
                                    </video>
                                </div>
                            `;
                        }
                    });
                    mediaHTML += `</div>`;
                }
                
                let commentsHTML = '';
                if (post.commentsList && post.commentsList.length > 0) {
                    commentsHTML = `<div class="post-comments">`;
                    post.commentsList.forEach(comment => {
                        commentsHTML += `
                            <div class="comment">
                                <div class="comment-avatar">${comment.user.charAt(0)}</div>
                                <div class="comment-content">
                                    <div class="comment-user">${comment.user}</div>
                                    <div class="comment-text">${comment.content}</div>
                                </div>
                            </div>
                        `;
                    });
                    commentsHTML += `
                        <input type="text" class="comment-input" placeholder="添加评论...">
                    </div>`;
                }
                
                postElement.innerHTML = `
                    <div class="post-actions-top">
                        ${post.user === currentUser ? `
                        <div class="post-action-btn withdraw-post" data-id="${post.id}">
                            <i class="fas fa-trash-alt"></i>
                        </div>
                        ` : ''}
                    </div>
                    <div class="post-header">
                        <div class="post-user-avatar">${post.user.charAt(0)}</div>
                        <div class="post-user-info">
                            <div class="post-user-name">${post.user}</div>
                            <div class="post-time">${post.time}</div>
                        </div>
                    </div>
                    <div class="post-content">${post.content}</div>
                    ${mediaHTML}
                    <div class="post-actions-bar">
                        <div class="post-action like-btn ${post.liked ? 'liked' : ''}" data-id="${post.id}">
                            <i class="fas fa-thumbs-up"></i> ${post.likes > 0 ? post.likes : ''} 点赞
                        </div>
                        <div class="post-action">
                            <i class="fas fa-comment"></i> ${post.comments > 0 ? post.comments : ''} 评论
                        </div>
                        <div class="post-action">
                            <i class="fas fa-share"></i> 分享
                        </div>
                    </div>
                    ${commentsHTML}
                `;
                
                postsContainer.appendChild(postElement);
            });
            
            // 添加点赞事件
            document.querySelectorAll('.like-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const postId = parseInt(this.dataset.id);
                    likePost(postId);
                });
            });
            
            // 添加撤回动态事件
            document.querySelectorAll('.withdraw-post').forEach(btn => {
                btn.addEventListener('click', function() {
                    const postId = parseInt(this.dataset.id);
                    withdrawPost(postId);
                });
            });
        }

        // 点赞动态
        function likePost(postId) {
            const post = posts.find(p => p.id === postId);
            if (post) {
                if (post.liked) {
                    post.likes--;
                } else {
                    post.likes++;
                }
                post.liked = !post.liked;
                renderPosts();
            }
        }

        // 撤回动态
        function withdrawPost(postId) {
            const post = posts.find(p => p.id === postId);
            if (post) {
                post.withdrawn = true;
                renderPosts();
            }
        }

        // 渲染搜索结果
        function renderSearchResults() {
            searchResults.innerHTML = '';
            
            // 聊天消息搜索结果
            chatMessages.forEach(msg => {
                if ((msg.sender === currentUser || msg.receiver === currentUser) && !msg.withdrawn) {
                    const resultElement = document.createElement('div');
                    resultElement.classList.add('result-card');
                    
                    resultElement.innerHTML = `
                        <div class="result-title">${msg.sender} -> ${msg.receiver}</div>
                        <div class="result-content">${msg.content}</div>
                        <div class="result-meta">
                            <span>${msg.timestamp}</span>
                            <span>消息</span>
                        </div>
                    `;
                    
                    searchResults.appendChild(resultElement);
                }
            });
            
            // 动态搜索结果
            posts.forEach(post => {
                if (!post.withdrawn) {
                    const resultElement = document.createElement('div');
                    resultElement.classList.add('result-card');
                    
                    resultElement.innerHTML = `
                        <div class="result-title">${post.user}的动态</div>
                        <div class="result-content">${post.content}</div>
                        <div class="result-meta">
                            <span>${post.user} · ${post.time}</span>
                            <span>动态</span>
                        </div>
                    `;
                    
                    searchResults.appendChild(resultElement);
                }
            });
        }

        // 设置在线状态
        function setOnlineStatus() {
            chatPartnerStatus.innerHTML = `
                <span class="status-indicator online"></span> 在线
            `;
        }

        // 登录功能
        loginBtn.addEventListener('click', function() {
            const username = usernameInput.value.trim();
            const password = passwordInput.value;
            
            if (!username || !password) {
                alert('请输入用户名和密码');
                return;
            }
            
            if (users[username] && users[username].password === password) {
                // 登录成功
                currentUser = username;
                chatPartner = (username === "华") ? "辉" : "华";
                
                loginPage.style.display = 'none';
                app.style.display = 'block';
                
                // 设置用户信息
                userAvatar.textContent = username.charAt(0);
                userName.textContent = username;
                userAvatar.style.background = `linear-gradient(135deg, ${users[username].color}, ${users[username].color}aa)`;
                
                // 设置聊天对象信息
                chatPartnerAvatar.textContent = chatPartner.charAt(0);
                chatPartnerName.textContent = chatPartner;
                chatPartnerAvatar.style.background = `linear-gradient(135deg, ${users[chatPartner].color}, ${users[chatPartner].color}aa)`;
                
                // 设置当前用户头像
                document.getElementById('currentUserAvatar').textContent = username.charAt(0);
                
                // 检查是否是辉用户，显示主题编辑功能
                if (username === '辉') {
                    document.querySelector('.nav-item[data-section="theme"]').style.display = 'flex';
                    document.getElementById('wallpaper-btn').style.display = 'flex';
                } else {
                    document.querySelector('.nav-item[data-section="theme"]').style.display = 'none';
                    document.getElementById('wallpaper-btn').style.display = 'none';
                }
                
                // 初始化应用
                initApp();
            } else {
                alert('用户名或密码错误');
            }
        });

        // 退出功能
        logoutBtn.addEventListener('click', function() {
            app.style.display = 'none';
            loginPage.style.display = 'flex';
            usernameInput.value = '';
            passwordInput.value = '';
            currentUser = null;
        });

        // 忘记密码功能
        forgotPassword.addEventListener('click', function() {
            const username = prompt('请输入您的用户名：');
            if (username && users[username]) {
                const newPassword = prompt('请输入新密码：');
                if (newPassword && newPassword.length >= 6) {
                    users[username].password = newPassword;
                    alert('密码已更新！');
                } else {
                    alert('密码长度至少为6个字符');
                }
            } else {
                alert('用户名不存在');
            }
        });

        // 导航项点击效果
        navItems.forEach(item => {
            item.addEventListener('click', function() {
                navItems.forEach(i => i.classList.remove('active'));
                this.classList.add('active');
                
                // 隐藏所有板块
                Object.values(sections).forEach(section => {
                    section.style.display = 'none';
                });
                
                // 显示当前板块
                const sectionId = this.dataset.section;
                sections[sectionId].style.display = 'block';
                
                // 更新内容区域标题
                const titleMap = {
                    "chat": "与他聊天",
                    "post": "发布动态",
                    "search": "内容搜索",
                    "theme": "主题管理",
                    "account": "账户管理"
                };
                
                if (titleMap[sectionId]) {
                    document.querySelector('.content-title').textContent = titleMap[sectionId];
                }
            });
        });

        // 发送消息功能
        sendMessageBtn.addEventListener('click', sendMessage);
        messageInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });
        
        function sendMessage() {
            const messageText = messageInput.value.trim();
            if (messageText) {
                // 添加消息到存储
                const newMessage = {
                    id: Date.now(),
                    sender: currentUser,
                    receiver: chatPartner,
                    content: messageText,
                    timestamp: "刚刚",
                    withdrawn: false
                };
                
                chatMessages.push(newMessage);
                
                // 重新渲染聊天消息
                renderChatMessages();
                messageInput.value = '';
                
                // 模拟对方回复（可选）
                setTimeout(() => {
                    const replies = [
                        "听起来不错！",
                        "我完全同意你的观点",
                        "这周末我有空，你呢？",
                        "我稍后发给你详细信息",
                        "期待见面！"
                    ];
                    const randomReply = replies[Math.floor(Math.random() * replies.length)];
                    
                    const replyMessage = {
                        id: Date.now() + 1,
                        sender: chatPartner,
                        receiver: currentUser,
                        content: randomReply,
                        timestamp: "刚刚",
                        withdrawn: false
                    };
                    
                    chatMessages.push(replyMessage);
                    renderChatMessages();
                }, 2000);
            }
        }
        
        // 发布动态功能
        publishPostBtn.addEventListener('click', function() {
            const postText = postContent.value.trim();
            if (postText || uploadedMedia.length > 0) {
                const newPost = {
                    id: Date.now(),
                    user: currentUser,
                    content: postText,
                    time: "刚刚",
                    media: uploadedMedia.map(media => ({
                        type: media.type,
                        url: media.type === 'image' ? 
                            'https://picsum.photos/300/200?random=' + Math.floor(Math.random() * 100) : 
                            'https://player.vimeo.com/video/76979871?h=8272103f6e'
                    })),
                    likes: 0,
                    comments: 0,
                    liked: false,
                    commentsList: [],
                    withdrawn: false
                };
                
                posts.unshift(newPost);
                renderPosts();
                postContent.value = '';
                uploadedMedia = [];
                renderMediaPreview();
                alert('动态发布成功！');
            } else {
                alert('请输入内容或上传媒体文件');
            }
        });
        
        // 主题切换
        document.querySelectorAll('.theme-card').forEach(card => {
            card.addEventListener('click', function() {
                const theme = this.dataset.theme;
                let primary, accent;
                
                switch(theme) {
                    case 'blue':
                        primary = '#1a1f36';
                        accent = '#4e6fff';
                        break;
                    case 'purple':
                        primary = '#1a1a36';
                        accent = '#8a2be2';
                        break;
                    case 'green':
                        primary = '#1a361f';
                        accent = '#00c853';
                        break;
                    default:
                        primary = '#1a1f36';
                        accent = '#4e6fff';
                }
                
                document.documentElement.style.setProperty('--primary', primary);
                document.documentElement.style.setProperty('--accent', accent);
                document.documentElement.style.setProperty('--accent-light', `${accent}cc`);
                
                alert(`已切换到${this.querySelector('.theme-name').textContent}主题`);
            });
        });
        
        // 搜索功能
        globalSearch.addEventListener('input', function() {
            renderSearchResults();
        });
    </script>
</body>
</html>
